# 전략/전술 지휘 모듈 (Strategy & Command) 작성 가이드

## 1. 목적 (Purpose)
- 유닛이나 자원에 명령을 내리고 결과를 관찰하여, 플레이어의 의사가 전장에 명확하게 반영되도록 설계하기 위한 가이드입니다.

## 2. 범위 (Scope)
- **포함**: 유닛 직접 제어(RTS) 및 간접 제어(Auto Battler), 진형(Formation), 명령 예약(Queuing), 전장의 안개(Fog of War)
- **제외**: 개별 유닛의 구체적인 공격 애니메이션(M2), 건설 및 경제 시뮬레이션 상세(M7), 스토리 컷신 연출

## 3. 설계 목표 (Design Goals)

1.  **명령의 명확성 (Obedience)**: 플레이어가 "가라"고 한 곳으로 가고, "쏴라"고 한 것을 쏴야 합니다. AI의 자의적 판단은 최소화하거나 예측 가능해야 합니다.
2.  **전황 파악 용이성 (Readability)**: 수많은 유닛이 뒤엉킨 난전 속에서도 피아 식별과 유불리 상황을 한눈에 알 수 있어야 합니다.
3.  **마이크로와 매크로의 조화**: 개별 유닛의 컨트롤(피지컬)과 전체 병력의 운영(뇌지컬) 사이에서 기획 의도에 맞는 비중을 설정합니다.
4.  **지형의 전략화 (Terrain)**: 맵은 단순한 배경이 아니라, 고지대, 엄폐물, 병목 구간 등 전술적 선택지여야 합니다.

## 4. GDD 문서 구조 (Structure)

### 4.1 지휘 시스템 (Command System)
- **제어 방식**: 단일 선택, 드래그 다중 선택(Box Selection), 부대 지정(Control Group) 단축키
- **기본 명령**: 이동(Move), 공격(Attack), 정지(Stop), 홀드(Hold), 순찰(Patrol)의 동작 로직
- **AI 태세 (Stance)**: 공격적(선제공격/추격), 방어적(제자리 사수), 수동적(반격만 허용/도주) 설정

### 4.2 전술적 상호작용 (Tactics)
- **상성 관계 (Counter)**: 가위바위보 식 병과 상성 (예: 창병 > 기병 > 궁병 > 창병) 및 데미지 보정식
- **지형 효과 (Terrain)**: 숲(은신/방어), 물(감속), 언덕(시야/사거리/명중률 보너스), 엄폐(Cover)
- **시야 시스템**: 전장의 안개(Fog of War), 은신(Stealth) 유닛 및 탐지(Detection) 규칙

### 4.3 유닛 정보 및 피드백 (Unit Info)
- **UI 정보**: 체력/마나 바, 상태 이상 아이콘, 레벨, 계급, 보유 스킬 쿨타임 표시
- **피드백**: 명령 수신 대사(Ack Voice), 이동 경로 표시(Waypoints), 공격 대상 하이라이트, 피격 알림

### 4.4 선택 및 심화 (Optional & Advanced)
- **고급 명령**: 예약 명령(Shift+Click), 대형(Formation) 변경 및 회전, 강제 공격(아군/지형), 호위(Guard)
- **멀티플레이 기능**: 팀원 간 시야 공유, 자원 지원(Transfer), 핑(Ping) 시스템, 전략 투표
- **자동화 (Automation)**: 자동 스킬 사용(Auto-Cast), 생산 건물 집결지(Rally Point), 일꾼 자동 작업
- **특수 전술**: 수송(Transport), 합체/분리, 변신, 자폭, 마인드 컨트롤 등 고급 메커닉

## 5. 관련 개념 (Related Concepts)

### 전략 용어 (Strategy Terms)
- **APM (Actions Per Minute)**: 분당 명령 횟수. 피지컬 요소의 척도
- **카이팅 (Kiting)**: 거리를 유지하며 공격하고 빠지는 '무빙샷' 컨트롤 기술
- **어그로 (Aggro)**: 적 AI가 공격 대상을 선정하는 우선순위 규칙

### 시스템 용어 (System Terms)
- **전장의 안개 (Fog of War)**: 탐험하지 않은 지역(검은색)과 현재 시야가 없는 지역(회색)의 구분
- **길찾기 (Pathfinding)**: 장애물을 피해 목적지까지 이동하는 AI 알고리즘 (A* 등)

## 6. 품질 체크리스트 (Quality Checklist)

### 6.1 조작 및 AI
- [ ] 유닛들이 서로끼어 버벅대거나(Lockstep) 길을 못 찾는 경우가 없는가?
- [ ] 클릭 미스를 방지할 만큼 유닛 선택 판정 범위가 여유로운가?
- [ ] 공격 이동(Attack Move) 시 적을 만났을 때 즉시 반응하는가?

### 6.2 밸런스 및 정보
- [ ] 특정 유닛 조합(Deathball)이 무상성으로 모든 것을 파괴하지 않는가?
- [ ] 역전의 기회(Comeback Mechanic)나 전략적 변수가 존재하는가?
- [ ] 미니맵을 통해 전체 전황을 파악하는 데 무리가 없는가?

## 7. 예시 및 안티패턴 (Examples & Anti-Patterns)

**Case 1: 길찾기**
- **좋은 예 (Good)**: "대규모 부대 이동 시, 자동으로 대열을 형성하고 속도를 맞춰 도착" (Total War)
- **안티패턴 (Bad)**: "좁은 입구에서 유닛 하나가 막혀 뒤따르던 100기가 제자리걸음" (Bottleneck 해소 불가)

**Case 2: 정보 제공**
- **좋은 예 (Good)**: "공격 명령 시, 사거리 밖이면 이동 아이콘 → 사거리 내 진입 시 공격 아이콘 변경"
- **안티패턴 (Bad)**: "체력 바가 겹쳐서 개별 유닛의 상태를 전혀 알 수 없음"

**Case 3: 상성**
- **좋은 예 (Good)**: "상성 데미지 2배 적용으로, 싼 유닛도 비싼 유닛을 잡을 수 있음"
- **안티패턴 (Bad)**: "가장 비싼 최종 유닛만 뽑으면 전략 필요 없이 승리" (전략성 부재)

## 8. 핵심 인사이트 (Key Insights)
- **가위바위보의 확장 (Triangular Balance)**: 완벽한 유닛은 없습니다. A는 B에 강하고, B는 C에 강하고, C는 A에 강해야 순환이 일어납니다.
- **정보가 곧 무기 (Information)**: 정찰을 통해 적의 의도를 파악하고 이에 대응(Counter)하는 것이 전략 게임의 핵심 재미입니다.
- **병목은 기회다 300 (Choke Point)**: 지형을 활용해 소수가 다수를 막아내는 영웅적 순간을 연출할 수 있게 하세요.
