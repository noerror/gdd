---
title: 매치메이킹·세션·네트워크 작성 가이드
description: 멀티플레이 게임의 매치메이킹, 세션 관리, 네트워크 시스템을 플레이어 경험을 최적화하도록 설계하여 연결성과 공정성을 확보하는 네트워크 디자인 가이드
---

# 매치메이킹·세션·네트워크 작성 가이드

## 1. 목적 (Purpose)
멀티플레이 게임의 매치메이킹, 세션 관리, 네트워크 요구사항을 체계적으로 정의하여 원활한 멀티플레이 경험을 제공하기 위한 가이드입니다.

## 2. 범위 (Scope)
- **포함**: 매치메이킹 알고리즘, 세션 생성·관리, 네트워크 요구사항, 지연 처리
- **제외**: 서버 인프라 구축, 네트워크 프로그래밍 세부사항

## 3. 설계 목표 (Design Goals)

1. **빠른 매칭 (Quick Matching)**: 플레이어가 빠르게 게임에 참여할 수 있습니다.
2. **공정한 매칭 (Fair Matching)**: 실력이 비슷한 플레이어를 매칭합니다.
3. **안정적인 연결 (Stable Connection)**: 네트워크 지연과 끊김을 최소화합니다.
4. **확장성 (Scalability)**: 동시 접속자 증가에 대응합니다.

## 4. GDD 문서 구조 (Structure)

### 4.1 매치메이킹 (Matchmaking)
- **알고리즘**: MMR 기반, 대기 시간 고려
- **매칭 조건**: 지역, 핑, 스킬 레벨

### 4.2 세션 관리 (Session Management)
- **세션 생성**: 방 만들기, 초대
- **세션 유지**: 호스트 마이그레이션, 재연결

### 4.3 네트워크 (Network)
- **요구사항**: 최소 대역폭, 최대 핑
- **지연 처리**: 예측, 보간, 롤백

### 4.4 선택 및 심화 (Optional & Advanced)
- **매칭 로직**: 지역별(Region) 핑 제한 설정, 파티 vs 솔로 매칭 가중치 조정
- **예외 상황**: 매칭 서버 다운 시 오프라인 모드 전환, 매칭 취소 시 페널티 예외 처리
- **백필(Backfill)**: 난입 허용 구간 설정, 난입 유저에 대한 추가 보상 정책

## 5. 관련 개념 (Key Concepts)

- **MMR (Matchmaking Rating)**: 플레이어 실력 지표
- **Ping**: 네트워크 지연 시간
- **Host Migration**: 호스트 변경 시 세션 유지
- **Lag Compensation**: 네트워크 지연 보정

## 6. 품질 체크리스트 (Quality Checklist)

### 6.1 매치메이킹
- [ ] 매치메이킹 알고리즘이 정의되었는가?
- [ ] 평균 대기 시간이 목표 내인가?
- [ ] 지역·핑·스킬 레벨이 고려되는가?

### 6.2 세션
- [ ] 세션 생성·관리 프로세스가 명확한가?
- [ ] 호스트 마이그레이션이 지원되는가?
- [ ] 재연결 메커니즘이 있는가?

### 6.3 네트워크
- [ ] 네트워크 요구사항이 명시되었는가?
- [ ] 지연 처리 메커니즘이 구현되었는가?
- [ ] 네트워크 상태 표시가 제공되는가?

## 7. 예시 및 안티패턴 (Examples & Anti-Patterns)

**Case 1: 매치메이킹**
- **좋은 예 (Good)**: "MMR ±100 범위 내 매칭, 30초 대기 후 범위 확대, 평균 대기 시간 1분 이내, 지역·핑 우선 고려"
- **안티패턴 (Bad)**: "완벽한 매칭만 추구하여 대기 시간 과도하게 길어짐"

**Case 2: 호스트 마이그레이션**
- **좋은 예 (Good)**: "호스트 이탈 시 자동으로 다음 플레이어에게 호스트 이전, 게임 중단 없이 계속 진행"
- **안티패턴 (Bad)**: "호스트 이탈 시 게임 종료로 플레이어 좌절"

**Case 3: 지연 처리**
- **좋은 예 (Good)**: "클라이언트 예측 + 서버 조정, 롤백 메커니즘으로 부정확한 예측 수정, 최대 핑 150ms 제한"
- **안티패턴 (Bad)**: "지연 처리 없이 네트워크 지연이 그대로 노출"

**Case 4: 매치메이킹 알고리즘 (Rocket League)**
- **좋은 예 (Good)**: "MMR ±50 범위로 시작, 30초마다 ±25씩 확대, 최대 3분 대기 시 ±200 범위, 지역 우선 매칭 후 글로벌 확장, 평균 대기 시간 45초"
- **안티패턴 (Bad)**: "고정 MMR 범위로 고랭크 대기 시간 10분 이상"

**Case 5: 크로스플레이와 호스트 마이그레이션 (Fortnite)**
- **좋은 예 (Good)**: "PC-콘솔-모바일 크로스플레이, 입력 방식별 매치풀 분리 옵션, 호스트 서버 방식으로 마이그레이션 불필요, 안정적 연결 유지"
- **안티패턴 (Bad)**: "P2P 방식에서 호스트 이탈 시 게임 종료"

**Case 6: 네트워크 상태 표시와 지연 보정 (Valorant)**
- **좋은 예 (Good)**: "실시간 핑 표시 (숫자 + 색상), 패킷 손실률 모니터링, 128-tick 서버로 정확도 향상, 서버측 히트 검증으로 치팅 방지"
- **안티패턴 (Bad)**: "네트워크 상태 정보 없이 플레이어가 지연 원인 파악 불가"

## 8. 핵심 인사이트 (Key Insights)

- **빠른 매칭과 공정성 균형**: 완벽한 매칭을 추구하기보다 대기 시간과 매칭 품질의 균형을 맞추세요.
- **호스트 마이그레이션**: 호스트 이탈 시에도 게임이 계속되도록 호스트 마이그레이션을 지원하세요.
- **지연 처리**: 클라이언트 예측과 서버 조정으로 네트워크 지연을 최소화하세요.
- **네트워크 상태 표시**: 플레이어에게 현재 핑과 네트워크 상태를 표시하여 투명성을 제공하세요.

