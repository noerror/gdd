# 세션 & 모드 구조 모듈 (Session & Mode) 작성 가이드

## 1. 목적 (Purpose)
- 게임의 세션 구조와 모드 설계를 체계적으로 기획하여, 플레이어의 참여 및 경험의 일관성을 확보하기 위한 가이드입니다.

## 2. 범위 (Scope)
- **포함**: 세션 라이프사이클(시작/진행/종료), 승패 조건, 모드 및 전환 로직, 반복 구조(라운드/웨이브)
- **제외**: UI/UX 세부 구현, 네트워킹 매치메이킹 기술 구현, 개별 레벨/맵 디자인

## 3. 설계 목표 (Design Goals)

1.  **몰입 유지 (Immersion)**: 적절한 세션 길이와 템포 조절로 플레이어의 피로도를 관리하고 지속적인 참여를 유도합니다.
2.  **공정성 (Fairness)**: 승패가 운이나 버그가 아닌 플레이어의 실력과 전략에 의해 결정되도록 설계합니다.
3.  **유연한 확장성 (Scalability)**: 다양한 모드 추가와 규칙 변경이 용이한 구조를 유지하여 유지보수를 효율화합니다.
4.  **명확한 피드백 (Clarity)**: 현재 상태, 진행도, 승패 조건을 플레이어가 즉각적으로 인지할 수 있어야 합니다.

## 4. GDD 문서 구조 (Structure)

### 4.1 시스템 개요 (System Overview)
- **세션 플로우 (Flow)**: 시작(로비/매칭) → 준비(로딩/컷신) → 진행(인게임) → 종료(결산/보상)의 전체 프로세스 도식화
- **코어 루프 (Core Loop)**: 세션 내에서 반복되는 플레이 단위(웨이브, 턴, 라운드)와 순환 구조 정의
- **모드 스펙 (Mode Specs)**: 지원 모드(싱글/멀티/협동)별 인원수, 승리 목표, 제한 시간 등 기본 사양 비교

### 4.2 승패 및 규칙 (Rules & Conditions)
- **승리/패배 조건**: 게임을 종료시키는 명확한 트리거(Trigger)와 결과 판정 로직 (타임오버, 전멸, 목표 달성)
- **스코어링 (Scoring)**: 점수 산정 공식, 랭크(S/A/B) 기준, 콤보/보너스/페널티 요인
- **제약 사항 (Constraints)**: 플레이 구역(자기장), 금지 구역, 사용 제한 아이템(Ban) 등 플레이 제약 규칙

### 4.3 밸런스 및 피드백 (Balance & Feedback)
- **난이도 조절**: 동적 난이도(DDA) 적용 여부, 단계별 몬스터/자원 배치, 플레이어 수에 따른 보정
- **매치메이킹 (Matching)**: MMR 산정 방식, 팀 밸런싱 규칙, 난입(Join in Progress) 및 탈주 처리
- **현황 피드백**: 현재 스코어, 남은 시간, 생존자 수, 킬 로그 등 HUD 필수 표시 정보

### 4.4 선택 및 심화 (Optional & Advanced)
- **싱글/멀티 변수**: 동일 모드라도 싱글/멀티 환경에 따라 달라지는 규칙(부활 가능 여부, AI 봇 대체 등)
- **데이터 분석 지표**: 평균 플레이 타임, 승률 히트맵, 이탈 구간 등 라이브 서비스 시 추적할 핵심 로그
- **예외 상황 처리**: 무승부(Draw), 서버 다운 시 롤백 정책, 악성 유저(트롤) 제재 기준

## 5. 관련 개념 (Related Concepts)

### 구조 및 단위 (Structure Units)
- **세션 (Session)**: 플레이어가 참여하는 독립된 '한 판'의 게임 인스턴스
- **웨이브 (Wave)**: 점진적으로 강도/난이도가 상승하며 반복적으로 등장하는 적의 무리
- **단순 용어**: 라운드(Round), 매치(Match), 스테이지(Stage), 챕터(Chapter)

### 운영 및 방식 (Operation & Mechanics)
- **비동기 (Asynchronous)**: 실시간 상호작용 없이, 턴제나 시간차를 두고 데이터를 주고받는 방식 (예: 우편 체스)
- **게임 vs 세션**: '게임'은 전체 타이틀/서비스를, '세션'은 시작과 끝이 있는 단일 플레이 단위를 지칭
- **단순 용어**: 캠페인(Campaign), 튜토리얼(Tutorial), 샌드박스(Sandbox)

## 6. 품질 체크리스트 (Quality Checklist)

### 6.1 구조 및 흐름
- [ ] 세션의 시작부터 종료까지의 흐름이 끊김 없이 자연스러운가?
- [ ] 모드 간 전환 시 로딩, 대기 시간, 데이터 동기화가 적절히 처리되는가?
- [ ] 예외 상황(탈주, 연결 끊김, 크래시)에 대한 복구 및 처리 로직이 있는가?

### 6.2 규칙 및 밸런스
- [ ] 승패 조건이 명확하고 플레이어가 이를 UI 등을 통해 쉽게 인지할 수 있는가?
- [ ] 한 세션의 평균 플레이 타임이 기획 의도와 일치하며 피로감을 주지 않는가?
- [ ] 특정 전략이나 버그로 인해 세션이 고착화되거나(Stalemate) 악용될 소지는 없는가?

### 6.3 확장성 및 기술
- [ ] 새로운 모드나 규칙 추가 시 기존 구조를 크게 변경하지 않아도 되는가?
- [ ] 최대 허용 인원이나 오브젝트 수가 기술적 성능 목표 내에서 처리되는가?

## 7. 예시 및 안티패턴 (Examples & Anti-Patterns)

**Case 1: 승패 조건 설계**
- **좋은 예 (Good)**: "제한 시간 내 점수 우위 또는 상대 전멸 시 즉시 승리" (명확하고 복합적인 승리 루트 제공)
- **안티패턴 (Bad)**: "적당히 오래 버티기" (종료 시점과 목표가 불분명해 긴장감 저하 및 지루함 유발)

**Case 2: 모드 변형 (Variation)**
- **좋은 예 (Good)**: "기본 모드 규칙 상속 + 중력 값 0.5배 적용한 이벤트 모드" (기본 로직 재사용으로 유지보수 용이)
- **안티패턴 (Bad)**: "이벤트 모드를 위해 별도의 하드코딩된 로직 복사-붙여넣기" (규칙 변경 시 이중 작업 및 버그 발생 위험)

**Case 3: 튜토리얼 세션**
- **좋은 예 (Good)**: "봇과 함께하는 연습 매치에서 기본 조작 학습" (실전과 동일한 환경에서 부담 없는 학습)
- **안티패턴 (Bad)**: "텍스트 팝업으로만 규칙 설명 후 바로 랭크 게임 투입" (플레이어 학습 부재로 인한 좌절)

## 8. 핵심 인사이트 (Key Insights)
- **시작과 끝이 중요하다 (Board Game)**: 명확한 셋업과 클린업 단계가 플레이어의 게임 경험 만족도를 높입니다.
- **템포의 리듬 (Uncharted 2)**: 긴장(Combat)과 이완(Rest)의 적절한 배분으로 플레이어의 몰입을 유지하세요.
- **공정한 불공평 (Sid Meier)**: 완전한 기계적 대칭보다는, 각자에게 유리한 상황을 제공하여 전략적 재미를 만듭니다.
